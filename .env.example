# KenoBot Configuration

# Telegram Bot Configuration
# Get token from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=your_bot_token_here

# Your Telegram user ID (get it from @userinfobot)
# The bot responds to you in any chat (DM, group, supergroup)
TELEGRAM_ALLOWED_USERS=123456789

# Optional: allow ALL users in specific group chats (comma-separated)
# TELEGRAM_ALLOWED_CHAT_IDS=-1001234567890

# Provider Configuration
# Options: mock (testing), claude-cli, claude-api, gemini-api, gemini-cli, cerebras-api, codex-cli
PROVIDER=mock
MODEL=sonnet

# Claude API Configuration (required if PROVIDER=claude-api)
# Get your API key from: https://console.anthropic.com/settings/keys
# ANTHROPIC_API_KEY=sk-ant-api03-...

# Google AI Configuration (required if PROVIDER=gemini-api)
# Get your API key from: https://aistudio.google.com/app/apikey
# GEMINI_API_KEY=AIza...

# Cerebras Configuration (required if PROVIDER=cerebras-api or CONSCIOUSNESS_PROVIDER=cerebras-api)
# Get your API key from: https://cloud.cerebras.ai/
# Models: llama3.1-8b, gpt-oss-120b (default), qwen-3-235b-a22b-instruct-2507
# CEREBRAS_API_KEY=csk-...

# Codex CLI Configuration (required if PROVIDER=codex-cli)
# Install: npm i -g @openai/codex && codex login
# Models: gpt-5.3-codex (default), o3, o4-mini
# No API key needed â€” authenticates via `codex login`

# Optional: Data directory (default: ./data)
# DATA_DIR=./data

# Optional: Config file path (default: .env)
# KENOBOT_CONFIG=.env

# Memory
# MEMORY_DAYS=3                    # Recent daily logs in context (0-30)
# MEMORY_RETENTION_DAYS=30         # Days before log compaction (1-365)
# WORKING_MEMORY_STALE_DAYS=7     # Days before working memory expires (1-30)

# Session
# SESSION_HISTORY_LIMIT=20         # Recent messages loaded per request (min: 1)

# Scheduler (enabled by default, set to false to disable cron tasks)
# ENABLE_SCHEDULER=false

# Timezone for scheduler and cron jobs (IANA format)
# TIMEZONE=America/Mexico_City

# Watchdog & Circuit Breaker
# WATCHDOG_INTERVAL=60000          # Health check interval in ms (min: 5000)
# CIRCUIT_BREAKER_THRESHOLD=5      # Provider failures before circuit opens (min: 1)
# CIRCUIT_BREAKER_COOLDOWN=60000   # Cooldown before retry in ms (min: 1000)

# Tool Execution
# MAX_TOOL_ITERATIONS=15           # Max tool rounds per message (1-20)

# HTTP Webhook Channel (optional)
# Enable: set to true to start HTTP server
# HTTP_ENABLED=true
# HTTP_PORT=3000                   # (0-65535)
# HTTP_HOST=127.0.0.1
# WEBHOOK_SECRET=your-secret-here  # Generate with: openssl rand -hex 32
# HTTP_TIMEOUT=60000               # Response timeout in ms (min: 1000)

# Motor System (GitHub integration)
# Bot's GitHub username (for git config in workspaces, auth via SSH key)
# GITHUB_USERNAME=kenobot-ai

# Bot's own repository for self-improvement PRs (owner/repo format)
# MOTOR_SELF_REPO=owner/kenobot

# Motor: workspace and execution limits
# MOTOR_WORKSPACES_DIR=./data/motor/workspaces
# MOTOR_SHELL_TIMEOUT=60000        # Shell command timeout in ms (5000-300000)
# MOTOR_SHELL_MAX_OUTPUT=102400    # Max shell output in bytes (min: 1024)
# MAX_TASK_ITERATIONS=30           # Max iterations for background tasks (1-50)
# MAX_CONCURRENT_TASKS=1           # Max concurrent background tasks (1-5)

# Consciousness (fast secondary model for real-time evaluations)
# Used by: keyword expansion, confidence scoring, response quality check
# Enabled by default, set to false to disable both consciousness and consolidation
# CONSCIOUSNESS_ENABLED=false
# CONSCIOUSNESS_PROVIDER=gemini-cli    # Options: gemini-cli, gemini-api, cerebras-api
# CONSCIOUSNESS_MODEL=gemini-2.0-flash # gemini-cli: gemini-2.0-flash / cerebras-api: llama3.1-8b
# CONSCIOUSNESS_TIMEOUT=30000          # Evaluation timeout in ms (5000-120000)

# Consolidation (heavier model for sleep cycle batch tasks)
# Used by: pattern extraction, fact deduplication, error analysis, self-improvement
# Falls back to CONSCIOUSNESS_* values if not set
# CONSOLIDATION_PROVIDER=gemini-cli    # Options: gemini-cli, gemini-api, cerebras-api
# CONSOLIDATION_MODEL=gemini-2.5-flash # Recommended: gemini-2.5-flash or gemini-2.5-pro
# CONSOLIDATION_TIMEOUT=60000          # Batch timeout in ms (5000-300000)

# Embedding System (semantic search for memory retrieval)
# Disabled by default. Requires GEMINI_API_KEY when using gemini provider.
# EMBEDDING_ENABLED=true
# EMBEDDING_PROVIDER=gemini-embedding     # Embedding provider (currently: gemini-embedding)
# EMBEDDING_MODEL=gemini-embedding-001    # Embedding model name
# EMBEDDING_BACKEND=jsonl                 # Storage backend: jsonl (default) or sqlite
# EMBEDDING_DIMENSIONS=768                # Vector dimensions (128-3072, Matryoshka)

# Debug
# KENOBOT_DEBUG=true               # Enable debug output for CLI providers
