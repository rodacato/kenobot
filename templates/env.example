# KenoBot Configuration (~/.kenobot/config/.env)
#
# Used by: kenobot start, kenobot dev
# Edit with: kenobot config edit

# ---------------------------------------------------------------------------
# Telegram Bot
# ---------------------------------------------------------------------------

# Bot token from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=your_bot_token_here

# Your Telegram user ID (get it from @userinfobot)
# The bot responds to you in any chat (DM, group, supergroup)
TELEGRAM_ALLOWED_USERS=123456789

# Optional: allow ALL users in specific group chats (comma-separated)
# TELEGRAM_ALLOWED_CHAT_IDS=-1001234567890

# Debounce rapid consecutive messages and send them as a single prompt (ms)
# TELEGRAM_DEBOUNCE_MS=5000

# ---------------------------------------------------------------------------
# Provider
# ---------------------------------------------------------------------------
# Options: mock (testing), claude-api, claude-cli, gemini-api, gemini-cli,
#          cerebras-api
PROVIDER=mock
MODEL=sonnet

# Claude API (required if PROVIDER=claude-api)
# Get your key: https://console.anthropic.com/settings/keys
# ANTHROPIC_API_KEY=sk-ant-api03-...

# Google AI / Gemini (required if PROVIDER=gemini-api, gemini-cli, or for
# consciousness/embedding providers that use Gemini)
# Get your key: https://aistudio.google.com/app/apikey
# GEMINI_API_KEY=AIza...

# Cerebras API (required if PROVIDER=cerebras-api or CONSCIOUSNESS_PROVIDER=cerebras-api)
# Get your key: https://cloud.cerebras.ai
# CEREBRAS_API_KEY=csk-...

# ---------------------------------------------------------------------------
# Directories
# ---------------------------------------------------------------------------

# Runtime data: sessions, logs, tasks, scheduler state
# DATA_DIR=./data

# Memory directory (MEMORY.md, daily logs, working/, chats/, identity/)
# Defaults to ~/.kenobot/memory — override only if you need a custom location
# MEMORY_DIR=~/.kenobot/memory

# ---------------------------------------------------------------------------
# Memory
# ---------------------------------------------------------------------------

# How many days of memory to inject into context
# MEMORY_DAYS=3

# How long to retain daily memory logs before pruning
# MEMORY_RETENTION_DAYS=30

# Days before working memory for a session is considered stale
# WORKING_MEMORY_STALE_DAYS=7

# ---------------------------------------------------------------------------
# Session & Agent Loop
# ---------------------------------------------------------------------------

# Number of past messages to keep in context per session
# SESSION_HISTORY_LIMIT=20

# Max inline tool call iterations per message (ReAct loop)
# MAX_TOOL_ITERATIONS=15

# ---------------------------------------------------------------------------
# Scheduler
# ---------------------------------------------------------------------------

# Set to false to disable all cron tasks
# ENABLE_SCHEDULER=false

# Timezone for scheduler and cron jobs (IANA format)
# TIMEZONE=America/Mexico_City

# ---------------------------------------------------------------------------
# Consciousness (fast secondary LLM for metacognition)
# ---------------------------------------------------------------------------

# Set to false to disable all consciousness evaluations
# CONSCIOUSNESS_ENABLED=true

# Provider for one-shot consciousness calls
# Options: gemini-cli, gemini-api, cerebras-api
# CONSCIOUSNESS_PROVIDER=gemini-cli
# CONSCIOUSNESS_MODEL=gemini-2.0-flash
# CONSCIOUSNESS_TIMEOUT=30000

# Provider for memory consolidation (sleep cycle)
# Defaults to CONSCIOUSNESS_PROVIDER/MODEL if not set
# CONSOLIDATION_PROVIDER=gemini-cli
# CONSOLIDATION_MODEL=gemini-2.0-flash
# CONSOLIDATION_TIMEOUT=60000

# ---------------------------------------------------------------------------
# Embeddings (semantic memory search)
# ---------------------------------------------------------------------------

# Set to true to enable vector embeddings for memory retrieval
# EMBEDDING_ENABLED=false
# EMBEDDING_PROVIDER=gemini-embedding
# EMBEDDING_MODEL=gemini-embedding-001
# EMBEDDING_BACKEND=jsonl
# EMBEDDING_DIMENSIONS=768

# ---------------------------------------------------------------------------
# Motor System (tools, background tasks, self-improvement)
# ---------------------------------------------------------------------------

# GitHub username for git operations and self-improvement PRs
# GITHUB_USERNAME=your-github-username

# Bot's own repo for self-improvement (format: owner/repo)
# MOTOR_SELF_REPO=your-github-username/kenobot

# Directory where GitHub workspaces are cloned
# MOTOR_WORKSPACES_DIR=./data/motor/workspaces

# Shell command timeout (ms) and max output size (bytes)
# MOTOR_SHELL_TIMEOUT=60000
# MOTOR_SHELL_MAX_OUTPUT=102400

# Max ReAct iterations for background tasks
# MAX_TASK_ITERATIONS=30

# Max concurrent background tasks
# MAX_CONCURRENT_TASKS=1

# ---------------------------------------------------------------------------
# Watchdog & Circuit Breaker
# ---------------------------------------------------------------------------

# Health check interval (ms)
# WATCHDOG_INTERVAL=60000

# Errors before opening the circuit breaker
# CIRCUIT_BREAKER_THRESHOLD=5

# How long the circuit stays open before retrying (ms)
# CIRCUIT_BREAKER_COOLDOWN=60000

# ---------------------------------------------------------------------------
# Logging
# ---------------------------------------------------------------------------

# Log level: debug, info, warn, error
# LOG_LEVEL=info

# ---------------------------------------------------------------------------
# HTTP Webhook Channel (optional, for external integrations)
# ---------------------------------------------------------------------------

# Set to true to start the HTTP server
# HTTP_ENABLED=true
# HTTP_PORT=3000
# HTTP_HOST=127.0.0.1
# WEBHOOK_SECRET=your-secret-here  # Generate with: openssl rand -hex 32
# HTTP_TIMEOUT=60000

# ---------------------------------------------------------------------------
# REST API (optional, for webchat or external integrations)
# Requires HTTP_ENABLED=true — mounts on the same port
# ---------------------------------------------------------------------------

# API_ENABLED=true
# API_KEY=kb-...  # Auto-generated by 'kenobot setup' when API_ENABLED=true
# API_CORS_ORIGIN=*
# API_TIMEOUT=120000
# API_RATE_LIMIT=60
